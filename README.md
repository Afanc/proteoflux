# ProteoFlux
[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.18640999.svg)](https://doi.org/10.5281/zenodo.18640999)

ProteoFlux is an open-source Python framework for transparent, reproducible downstream analysis of quantitative proteomics data.

It operates on quantitative outputs generated by upstream search and quantification tools and provides a unified workflow for:

- Protein-centric proteomics  
- Peptide-centric analyses  
- Phosphoproteomics (with optional protein-level covariate adjustment)

ProteoFlux emphasizes:

- Explicit data semantics  
- Transparent preprocessing  
- Deterministic statistical modeling  
- Fully reproducible outputs  

---

## Overview

ProteoFlux takes a single YAML configuration file and produces:

- Harmonized and preprocessed quantification data
- Differential expression results using a limma-based empirical Bayes framework
- PCA, MDS, and hierarchical clustering
- A structured multi-page PDF report
- Portable `.h5ad` files compatible with ProteoViewer
- Summary tables in Excel or CSV format

---

## Installation

Python â‰¥ 3.9 required.

### Install from source (recommended)

```bash
git clone https://github.com/YOUR-ORG/proteoflux.git
cd proteoflux
pip install -e .
```

This installs ProteoFlux in editable mode.

---

## Quickstart (CLI)

List available configuration templates:

```bash
proteoflux templates
```

Create a template:

```bash
proteoflux init spectronaut-proteomics --path config.yaml
```

Run the full pipeline:

```bash
proteoflux run --config config.yaml
```

---

## Output Files

| File | Description |
|------|------------|
| `*.h5ad` | Full AnnData object with raw, normalized, imputed data, statistics, embeddings, and metadata |
| `*.xlsx` | Differential expression summary table |
| `*.pdf` | Multi-page QC and analysis report |

---

## Using ProteoFlux as a Python Library

ProteoFlux can also be used programmatically:

```python
import yaml
from proteoflux.main import run_pipeline

config = yaml.safe_load(open("config.yaml"))
run_pipeline(config)
```

This allows:

- Integration into larger workflows
- Batch processing
- Use inside Jupyter notebooks
- Custom downstream analysis of AnnData objects

All behavior is controlled by the same YAML schema used by the CLI.

---

## Configuration

All parameters are defined in a single YAML configuration file.

High-level sections:

- `dataset`
- `preprocessing`
- `analysis`
- `exports`

Full parameter reference:

See `docs/CONFIGURATION.md`

---

## License

MIT License.

---

## Citation

If you use ProteoFlux in your work, please cite:

ProteoFlux v1.8.5.  
Zenodo. https://doi.org/10.5281/zenodo.18640999

A peer-reviewed publication is currently under submission.
